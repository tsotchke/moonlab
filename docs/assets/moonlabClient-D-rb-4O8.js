let t=null,d=1;const o=new Map;let a=null;const m=()=>{if(t)return t;if(typeof window>"u")throw new Error("Moonlab worker is only available in the browser");const e=new URL("moonlab-worker.js",window.location.href);return t=new Worker(e,{type:"classic"}),t.onmessage=n=>{const r=n.data,s=o.get(r.id);s&&(o.delete(r.id),r.ok?s.resolve(r.result):s.reject(new Error(r.error||"Worker error")))},t.onerror=n=>{o.forEach(({reject:r})=>r(new Error(n.message))),o.clear()},t},i=async(e,n,r)=>{const s=m(),l=d++,c=new Promise((u,w)=>{o.set(l,{resolve:u,reject:w})});return s.postMessage({id:l,type:e,payload:n},r||[]),c},p=async()=>(a||(a=i("init").then(()=>{})),a),b=async e=>await i("runCircuit",e),f=async e=>(await i("probabilitiesFromAmplitudes",e,[e.amplitudes.buffer])).probabilities,g=async e=>await i("dmrgWeights",e);export{g as d,p as e,f as p,b as r};
//# sourceMappingURL=moonlabClient-D-rb-4O8.js.map
