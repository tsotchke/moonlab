{"version":3,"file":"Examples-T5at8nX7.js","sources":["../../bindings/javascript/demo/src/examples/Examples.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { ensureMoonlabWorker, runCircuitInWorker, type WorkerGate } from '../workers/moonlabClient';\nimport './Examples.css';\n\ninterface Example {\n  id: string;\n  title: string;\n  description: string;\n  code: string;\n  runnable?: boolean;\n}\n\nconst EXAMPLES: Example[] = [\n  {\n    id: 'bell-state',\n    title: 'Bell State (Entanglement)',\n    description: 'Create a maximally entangled Bell state |Φ+⟩ = (|00⟩ + |11⟩)/√2',\n    code: `import { QuantumState } from '@moonlab/quantum-core';\n\n// Create a 2-qubit state\nconst state = await QuantumState.create({ numQubits: 2 });\n\n// Apply Hadamard to qubit 0 (creates superposition)\nstate.h(0);\n\n// Apply CNOT with qubit 0 as control, qubit 1 as target\nstate.cnot(0, 1);\n\n// Now the qubits are entangled!\nconst probs = state.getProbabilities();\nconsole.log(probs);  // [0.5, 0, 0, 0.5]\n\n// Measuring qubit 0 instantly determines qubit 1\nstate.dispose();`,\n    runnable: true,\n  },\n  {\n    id: 'superposition',\n    title: 'Uniform Superposition',\n    description: 'Create equal superposition over all basis states using Hadamard gates',\n    code: `import { QuantumState } from '@moonlab/quantum-core';\n\n// Create a 3-qubit state (8 basis states)\nconst state = await QuantumState.create({ numQubits: 3 });\n\n// Apply Hadamard to all qubits\nstate.h(0).h(1).h(2);\n\n// Each of the 8 states has equal probability\nconst probs = state.getProbabilities();\nconsole.log(probs);  // [0.125, 0.125, ..., 0.125]\n\n// Verify normalization\nconst total = probs.reduce((a, b) => a + b, 0);\nconsole.log(\\`Total probability: \\${total}\\`);  // 1.0\n\nstate.dispose();`,\n    runnable: true,\n  },\n  {\n    id: 'grover',\n    title: \"Grover's Search Algorithm\",\n    description: 'Find a marked item in an unsorted database with quadratic speedup',\n    code: `import { QuantumState } from '@moonlab/quantum-core';\nimport { Grover } from '@moonlab/quantum-algorithms';\n\n// Search in a space of 1024 items (10 qubits)\nconst grover = await Grover.create({\n  numQubits: 10,\n  markedState: 42,  // The item we're searching for\n});\n\n// Run the search (uses optimal number of iterations)\nconst result = grover.search();\n\nconsole.log(\\`Found: \\${result.foundState}\\`);          // 42\nconsole.log(\\`Success prob: \\${result.successProbability}\\`);  // ~96.9%\nconsole.log(\\`Oracle calls: \\${result.oracleCalls}\\`);  // ~25 (vs 1024 classically!)\n\ngrover.dispose();`,\n    runnable: false,\n  },\n  {\n    id: 'phase-kickback',\n    title: 'Phase Kickback',\n    description: 'Demonstrate the phase kickback phenomenon used in quantum algorithms',\n    code: `import { QuantumState } from '@moonlab/quantum-core';\n\n// Create 2-qubit state\nconst state = await QuantumState.create({ numQubits: 2 });\n\n// Prepare control in superposition\nstate.h(0);\n\n// Prepare target in |1⟩ state\nstate.x(1);\n\n// Apply controlled-Z\nstate.cz(0, 1);\n\n// The phase kicks back to the control qubit!\n// Control qubit now has a relative phase\n\n// Apply Hadamard to see the phase\nstate.h(0);\n\nconst probs = state.getProbabilities();\nconsole.log(probs);\n\nstate.dispose();`,\n    runnable: true,\n  },\n  {\n    id: 'quantum-teleportation',\n    title: 'Quantum Teleportation',\n    description: 'Teleport a quantum state using entanglement and classical communication',\n    code: `import { QuantumState } from '@moonlab/quantum-core';\n\n// 3 qubits: q0=state to teleport, q1,q2=entangled pair\nconst state = await QuantumState.create({ numQubits: 3 });\n\n// Prepare the state to teleport (arbitrary state on q0)\nstate.h(0).t(0);  // |ψ⟩ = H·T|0⟩\n\n// Create Bell pair between q1 and q2\nstate.h(1).cnot(1, 2);\n\n// Bell measurement on q0 and q1\nstate.cnot(0, 1).h(0);\n\n// Measure q0 and q1 (classical bits)\nconst m0 = state.measure(0);\nconst m1 = state.measure(1);\n\n// Apply corrections to q2 based on measurement\nif (m1) state.x(2);\nif (m0) state.z(2);\n\n// q2 now contains the original state |ψ⟩!\nconsole.log('Teleportation complete!');\n\nstate.dispose();`,\n    runnable: false,\n  },\n  {\n    id: 'vqe-h2',\n    title: 'VQE: H₂ Ground State Energy',\n    description: 'Find the ground state energy of hydrogen molecule using variational quantum eigensolver',\n    code: `import { VQE, createH2Hamiltonian } from '@moonlab/quantum-algorithms';\n\n// Create H2 Hamiltonian at bond distance 0.74 Å\nconst hamiltonian = createH2Hamiltonian({\n  bondDistance: 0.74,\n  basis: 'sto-3g'\n});\n\n// Create VQE solver\nconst vqe = await VQE.create({\n  hamiltonian,\n  ansatz: 'uccsd',     // Unitary Coupled Cluster\n  optimizer: 'cobyla',\n  maxIterations: 100\n});\n\n// Run optimization\nconst result = vqe.solve();\n\nconsole.log(\\`Ground state energy: \\${result.energy} Ha\\`);\nconsole.log(\\`Chemical accuracy: \\${result.chemicalAccuracy}\\`);\nconsole.log(\\`Iterations: \\${result.iterations}\\`);\n\nvqe.dispose();`,\n    runnable: false,\n  },\n];\n\nconst Examples: React.FC = () => {\n  const logoUrl = `${import.meta.env.BASE_URL}moonlab.png`;\n  const [selectedExample, setSelectedExample] = useState<string>(EXAMPLES[0].id);\n  const [copied, setCopied] = useState(false);\n  const [runOutput, setRunOutput] = useState<Record<string, string>>({});\n  const [runError, setRunError] = useState<Record<string, string>>({});\n  const [runningId, setRunningId] = useState<string | null>(null);\n\n  const currentExample = EXAMPLES.find(e => e.id === selectedExample) || EXAMPLES[0];\n\n  const formatProbabilities = (probs: Float64Array | number[], numQubits: number): string => {\n    const lines: string[] = [];\n    for (let i = 0; i < probs.length; i++) {\n      const prob = probs[i];\n      if (prob < 0.0005) continue;\n      const label = i.toString(2).padStart(numQubits, '0');\n      lines.push(`|${label}⟩: ${(prob * 100).toFixed(2)}%`);\n    }\n    if (lines.length === 0) {\n      return 'No non-zero probabilities found.';\n    }\n    return lines.join('\\n');\n  };\n\n  const runExample = async () => {\n    if (!currentExample.runnable) return;\n    setRunningId(currentExample.id);\n    setRunError((prev) => ({ ...prev, [currentExample.id]: '' }));\n    try {\n      await ensureMoonlabWorker();\n      let numQubits = 0;\n      let gates: WorkerGate[] = [];\n      if (currentExample.id === 'bell-state') {\n        numQubits = 2;\n        gates = [\n          { type: 'H', qubit: 0 },\n          { type: 'CNOT', qubit: 1, controlQubit: 0 },\n        ];\n      } else if (currentExample.id === 'superposition') {\n        numQubits = 3;\n        gates = [\n          { type: 'H', qubit: 0 },\n          { type: 'H', qubit: 1 },\n          { type: 'H', qubit: 2 },\n        ];\n      } else if (currentExample.id === 'phase-kickback') {\n        numQubits = 2;\n        gates = [\n          { type: 'H', qubit: 0 },\n          { type: 'X', qubit: 1 },\n          { type: 'CZ', qubit: 1, controlQubit: 0 },\n          { type: 'H', qubit: 0 },\n        ];\n      }\n\n      if (numQubits === 0) {\n        throw new Error('Example is not runnable in the browser build.');\n      }\n\n      const result = await runCircuitInWorker({ numQubits, gates });\n      if (result.warnings.length) {\n        console.warn('Example warnings:', result.warnings);\n      }\n      const output = formatProbabilities(result.probabilities, numQubits);\n      setRunOutput((prev) => ({ ...prev, [currentExample.id]: output }));\n    } catch (error) {\n      setRunError((prev) => ({\n        ...prev,\n        [currentExample.id]: error instanceof Error ? error.message : String(error),\n      }));\n    } finally {\n      setRunningId(null);\n    }\n  };\n\n  const copyCode = async () => {\n    await navigator.clipboard.writeText(currentExample.code);\n    setCopied(true);\n    setTimeout(() => setCopied(false), 2000);\n  };\n\n  return (\n    <div className=\"examples\">\n      <div className=\"section-header\">\n        <img className=\"section-logo\" src={logoUrl} alt=\"\" aria-hidden=\"true\" />\n        <div className=\"section-header-text\">\n          <h1 className=\"section-title\">Code Examples</h1>\n          <p className=\"section-description\">\n            Copy-paste code snippets to get started quickly with quantum computing.\n          </p>\n        </div>\n      </div>\n\n      <div className=\"examples-layout\">\n        <aside className=\"examples-sidebar\">\n          {EXAMPLES.map(example => (\n            <button\n              key={example.id}\n              className={`example-btn ${selectedExample === example.id ? 'selected' : ''}`}\n              onClick={() => setSelectedExample(example.id)}\n            >\n              <span className=\"example-title\">{example.title}</span>\n              <span className=\"example-desc\">{example.description}</span>\n            </button>\n          ))}\n        </aside>\n\n        <main className=\"example-content\">\n          <div className=\"example-header\">\n            <h2>{currentExample.title}</h2>\n            <div className=\"example-actions\">\n              {currentExample.runnable && (\n                <button\n                  className=\"btn btn-primary\"\n                  onClick={runExample}\n                  disabled={runningId === currentExample.id}\n                >\n                  {runningId === currentExample.id ? 'Running…' : 'Run Example'}\n                </button>\n              )}\n              <button className=\"btn btn-secondary\" onClick={copyCode}>\n                {copied ? 'Copied!' : 'Copy Code'}\n              </button>\n            </div>\n          </div>\n\n          <p className=\"example-description\">{currentExample.description}</p>\n\n          <div className=\"code-container\">\n            <pre className=\"code-block\">\n              <code>{currentExample.code}</code>\n            </pre>\n          </div>\n\n          <div className=\"output-container\">\n            <h3>Output</h3>\n            {currentExample.runnable ? (\n              <pre className=\"output-block\">\n                {runError[currentExample.id]\n                  ? `Error: ${runError[currentExample.id]}`\n                  : runOutput[currentExample.id] || 'Run the example to compute output in WASM.'}\n              </pre>\n            ) : (\n              <pre className=\"output-block\">\n                This example depends on algorithms not bundled in the browser WASM build yet.\n              </pre>\n            )}\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n};\n\nexport default Examples;\n"],"names":["EXAMPLES","Examples","logoUrl","selectedExample","setSelectedExample","useState","copied","setCopied","runOutput","setRunOutput","runError","setRunError","runningId","setRunningId","currentExample","e","formatProbabilities","probs","numQubits","lines","i","prob","label","runExample","prev","ensureMoonlabWorker","gates","result","runCircuitInWorker","output","error","copyCode","jsxs","jsx","example"],"mappings":"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"}