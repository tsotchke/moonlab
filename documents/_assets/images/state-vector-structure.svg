<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 480">
  <defs>
    <linearGradient id="ampGrad0" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1d4ed8;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="ampGrad1" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="probGrad" x1="0%" y1="100%" x2="0%" y2="0%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fbbf24;stop-opacity:1" />
    </linearGradient>
  </defs>

  <!-- Title -->
  <text x="400" y="30" text-anchor="middle" font-family="system-ui, sans-serif" font-size="18" font-weight="bold" fill="#1f2937">State Vector Structure: 3-Qubit System</text>

  <!-- Ket notation -->
  <g transform="translate(40, 60)">
    <text x="360" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#374151">State Vector Representation</text>

    <rect x="0" y="15" width="720" height="85" rx="8" fill="#f8fafc" stroke="#94a3b8" stroke-width="2"/>

    <g transform="translate(20, 40)">
      <text x="0" y="0" font-family="serif" font-size="16" fill="#374151">|ψ⟩ = </text>
      <text x="45" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₀</text>
      <text x="65" y="0" font-family="serif" font-size="14" fill="#374151">|000⟩ + </text>
      <text x="125" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₁</text>
      <text x="145" y="0" font-family="serif" font-size="14" fill="#374151">|001⟩ + </text>
      <text x="205" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₂</text>
      <text x="225" y="0" font-family="serif" font-size="14" fill="#374151">|010⟩ + </text>
      <text x="285" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₃</text>
      <text x="305" y="0" font-family="serif" font-size="14" fill="#374151">|011⟩ + </text>
      <text x="365" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₄</text>
      <text x="385" y="0" font-family="serif" font-size="14" fill="#374151">|100⟩ + </text>
      <text x="445" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₅</text>
      <text x="465" y="0" font-family="serif" font-size="14" fill="#374151">|101⟩ + </text>
      <text x="525" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₆</text>
      <text x="545" y="0" font-family="serif" font-size="14" fill="#374151">|110⟩ + </text>
      <text x="605" y="0" font-family="serif" font-size="14" fill="#3b82f6">α₇</text>
      <text x="625" y="0" font-family="serif" font-size="14" fill="#374151">|111⟩</text>
    </g>

    <text x="360" y="75" text-anchor="middle" font-family="serif" font-size="12" fill="#6b7280">where α_i ∈ ℂ and Σ|α_i|² = 1 (normalization)</text>
  </g>

  <!-- Memory array visualization -->
  <g transform="translate(40, 170)">
    <text x="360" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#374151">In-Memory Array (double complex[8])</text>

    <g transform="translate(0, 20)">
      <!-- Array cells -->
      <g>
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad0)" stroke="#1d4ed8" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[0]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₀</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|000⟩ = 0</text>
      </g>

      <g transform="translate(90, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad1)" stroke="#059669" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[1]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₁</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|001⟩ = 1</text>
      </g>

      <g transform="translate(180, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad0)" stroke="#1d4ed8" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[2]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₂</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|010⟩ = 2</text>
      </g>

      <g transform="translate(270, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad1)" stroke="#059669" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[3]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₃</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|011⟩ = 3</text>
      </g>

      <g transform="translate(360, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad0)" stroke="#1d4ed8" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[4]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₄</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|100⟩ = 4</text>
      </g>

      <g transform="translate(450, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad1)" stroke="#059669" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[5]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₅</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|101⟩ = 5</text>
      </g>

      <g transform="translate(540, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad0)" stroke="#1d4ed8" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[6]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₆</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|110⟩ = 6</text>
      </g>

      <g transform="translate(630, 0)">
        <rect x="0" y="0" width="85" height="45" fill="url(#ampGrad1)" stroke="#059669" stroke-width="2"/>
        <text x="42" y="18" text-anchor="middle" font-family="monospace" font-size="10" fill="white">amplitudes[7]</text>
        <text x="42" y="32" text-anchor="middle" font-family="serif" font-size="11" fill="white">α₇</text>
        <text x="42" y="58" text-anchor="middle" font-family="monospace" font-size="9" fill="#374151">|111⟩ = 7</text>
      </g>
    </g>
  </g>

  <!-- Index to basis mapping -->
  <g transform="translate(40, 310)">
    <text x="180" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#374151">Index ↔ Basis State Mapping</text>

    <rect x="0" y="15" width="360" height="130" rx="8" fill="#fef3c7" stroke="#d97706" stroke-width="2"/>

    <g transform="translate(15, 35)">
      <text x="0" y="0" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#92400e">Binary to Index:</text>
      <text x="0" y="20" font-family="monospace" font-size="10" fill="#374151">index = q₀ × 2⁰ + q₁ × 2¹ + q₂ × 2²</text>
      <text x="0" y="38" font-family="monospace" font-size="10" fill="#374151">|q₂q₁q₀⟩ → index</text>

      <text x="0" y="65" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#92400e">Example: |101⟩</text>
      <text x="0" y="83" font-family="monospace" font-size="10" fill="#374151">q₀=1, q₁=0, q₂=1</text>
      <text x="0" y="98" font-family="monospace" font-size="10" fill="#374151">index = 1×1 + 0×2 + 1×4 = 5</text>
    </g>
  </g>

  <!-- Gate operation effect -->
  <g transform="translate(420, 310)">
    <text x="180" y="0" text-anchor="middle" font-family="system-ui, sans-serif" font-size="14" font-weight="bold" fill="#374151">Gate Application Pattern</text>

    <rect x="0" y="15" width="340" height="130" rx="8" fill="#ecfdf5" stroke="#10b981" stroke-width="2"/>

    <g transform="translate(15, 35)">
      <text x="0" y="0" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#059669">Single-qubit gate on qubit k:</text>
      <text x="0" y="20" font-family="monospace" font-size="10" fill="#374151">stride = 2^k</text>
      <text x="0" y="38" font-family="monospace" font-size="10" fill="#374151">Pairs: (i, i + stride) for i where bit k = 0</text>

      <text x="0" y="65" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#059669">Example: X gate on qubit 1 (stride=2)</text>
      <text x="0" y="83" font-family="monospace" font-size="10" fill="#374151">Swap pairs: (0,2), (1,3), (4,6), (5,7)</text>
      <text x="0" y="98" font-family="system-ui, sans-serif" font-size="9" fill="#6b7280">|0⟩↔|1⟩ on qubit 1</text>
    </g>
  </g>

  <!-- Example state: Bell state -->
  <g transform="translate(40, 460)">
    <text x="0" y="0" font-family="system-ui, sans-serif" font-size="11" font-weight="bold" fill="#374151">Example (Bell State |Φ⁺⟩ on 2 qubits):</text>
    <text x="250" y="0" font-family="monospace" font-size="10" fill="#374151">amplitudes = [1/√2, 0, 0, 1/√2] representing (|00⟩ + |11⟩)/√2</text>
  </g>
</svg>
